# This script is a component test script for use with the test firmware and printer.
ScriptHost::SetTimeoutMs(1000)
ScriptHost::SetQuitOnTimeout(1)
Serial0::NextLineMustBe(READY)
#test all sane points in the thermistor table:
Thermistor::Set(300)
Serial0::NextLineMustBe(ADC 17)
Thermistor::Set(290)
Serial0::NextLineMustBe(ADC 20)
Thermistor::Set(280)
Serial0::NextLineMustBe(ADC 23)
Thermistor::Set(270)
Serial0::NextLineMustBe(ADC 27)
Thermistor::Set(260)
Serial0::NextLineMustBe(ADC 31)
Thermistor::Set(250)
Serial0::NextLineMustBe(ADC 37)
Thermistor::Set(240)
Serial0::NextLineMustBe(ADC 43)
Thermistor::Set(230)
Serial0::NextLineMustBe(ADC 51)
Thermistor::Set(220)
Serial0::NextLineMustBe(ADC 61)
Thermistor::Set(210)
Serial0::NextLineMustBe(ADC 73)
Thermistor::Set(200)
Serial0::NextLineMustBe(ADC 87)
Thermistor::Set(190)
Serial0::NextLineMustBe(ADC 106)
Thermistor::Set(180)
Serial0::NextLineMustBe(ADC 128)
Thermistor::Set(170)
Serial0::NextLineMustBe(ADC 155)
Thermistor::Set(160)
Serial0::NextLineMustBe(ADC 189)
Thermistor::Set(150)
Serial0::NextLineMustBe(ADC 230)
Thermistor::Set(140)
Serial0::NextLineMustBe(ADC 278)
Thermistor::Set(130)
Serial0::NextLineMustBe(ADC 336)
Thermistor::Set(120)
Serial0::NextLineMustBe(ADC 402)
Thermistor::Set(110)
Serial0::NextLineMustBe(ADC 476)
Thermistor::Set(100)
Serial0::NextLineMustBe(ADC 554)
Thermistor::Set(90)
Serial0::NextLineMustBe(ADC 635)
Thermistor::Set(80)
Serial0::NextLineMustBe(ADC 713)
Thermistor::Set(70)
Serial0::NextLineMustBe(ADC 784)
Thermistor::Set(60)
Serial0::NextLineMustBe(ADC 846)
Thermistor::Set(50)
Serial0::NextLineMustBe(ADC 897)
Thermistor::Set(40)
Serial0::NextLineMustBe(ADC 937)
Thermistor::Set(30)
Serial0::NextLineMustBe(ADC 966)
Thermistor::Set(20)
Serial0::NextLineMustBe(ADC 986)
Thermistor::Set(10)
Serial0::NextLineMustBe(ADC 1000)
# Check short/open:
Thermistor::Short()
Serial0::NextLineMustBe(ADC 1)
Thermistor::Disconnect()
Serial0::NextLineMustBe(ADC 1024)
Thermistor::Reconnect()
Serial0::NextLineMustBe(ADC 1000)
# And spot-check a few interpolations:
Thermistor::Set(75)
Serial0::NextLineMustBe(ADC 748)
Thermistor::Set(41)
# I don't know why this works locally but not on the build runner... wtf. Disabled for now.
#Serial0::NextLineMustBe(ADC 933)
Thermistor::Set(50)
Board::Quit()
