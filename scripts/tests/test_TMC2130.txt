ScriptHost::SetTimeoutMs(1000)
ScriptHost::SetQuitOnTimeout(1)
Serial0::NextLineMustBe(READY)
Board::Pause()
GLHelper::SnapRect(tests/snaps/TMC01,0,164,500,80)
Board::Resume()
Serial0::NextLineMustBe(RP 09 800000fa)
Serial0::NextLineMustBe(RP 08 000001)
Serial0::NextLineMustBe(DIAG 02) # Normal diag EN (Active low)
Serial0::NextLineMustBe(DIAG 00) # PP, active high.
Serial0::NextLineMustBe(DIAGMAX 02)
Board::Pause()
GLHelper::SnapRect(tests/snaps/TMC02,0,164,500,80)
Board::Resume()
Serial0::NextLineMustBe(DIAGMIN 02)
Board::Pause()
GLHelper::SnapRect(tests/snaps/TMC03,0,164,500,80)
Board::Resume()
Serial0::NextLineMustBe(DIAGDEDGE 02)
Serial0::NextLineMustBe(DISABLED)
Board::Pause()
GLHelper::SnapRect(tests/snaps/TMC04,0,164,500,80)
Board::Resume()
Serial0::NextLineMustBe(DIAGDISABLE 02)
Serial0::NextLineMustBe(DIAG 00)
Serial0::NextLineMustBe(DIAG 02)
Serial0::NextLineMustBe(DIAG 02)
Serial0::NextLineMustBe(SCRIPTDIAG)
X::Reset()
Serial0::NextLineMustBe(DIAG 00)
X::Stall();
Serial0::NextLineMustBe(DIAG 02)
X::ToggleStall();
Serial0::NextLineMustBe(STEP)
GLHelper::SnapRect(tests/snaps/TMC05,0,164,500,80)
Serial0::NextLineMustBe(IOIN STEP 0)
Serial0::NextLineMustBe(IOIN STEP 1)
Serial0::NextLineMustBe(IOIN STEP 0)
Serial0::NextLineMustBe(IOIN DIR 0)
Serial0::NextLineMustBe(IOIN DIR 1)
Serial0::NextLineMustBe(IOIN DIR 0)
Serial0::NextLineMustBe(IOIN ENA 0)
Serial0::NextLineMustBe(IOIN ENA 1)
Serial0::NextLineMustBe(IOIN ENA 0)
Serial0::NextLineMustBe(FINISHED)
Board::Quit()
