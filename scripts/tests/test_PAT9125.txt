# This script is a component test script for use with the test firmware and printer.
ScriptHost::SetTimeoutMs(2000)
ScriptHost::SetQuitOnTimeout(1)
Serial0::NextLineMustBe(READY)
Serial0::NextLineMustBe(RD 00: 31)
Serial0::NextLineMustBe(RD 01: 91)
Serial0::NextLineMustBe(RD 02: 00)
Serial0::NextLineMustBe(RD 04: 00)
Serial0::NextLineMustBe(RD 0d: 00)
Serial0::NextLineMustBe(RD 0e: f0)
Serial0::NextLineMustBe(RD 14: 14)
Serial0::NextLineMustBe(RD 17: 28)
PAT9125::Toggle()
Serial0::NextLineMustBe(RD 14: 05)
Serial0::NextLineMustBe(RD 17: 64)
Serial0::NextLineMustBe(RD 04: 00)
Serial0::NextLineMustBe(RD 12: 00)
Serial0::NextLineMustBe(RD 02: 00)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 80) # Should get 5 nudges before motion clears again.
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 80)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 80)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 80)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 80)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(RD 02: 00)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 12: 0f)
Serial0::NextLineMustBe(SYNC)
KeyCtl::Key(f)
Serial0::NextLineMustBe(RD 04: d1)
Serial0::NextLineMustBe(RD 14: 14)
Serial0::NextLineMustBe(RD 17: 28)
PAT9125::Set(2)
Serial0::NextLineMustBe(RD 14: 05)
PAT9125::Toggle Jam()
Serial0::NextLineMustBe(RD 14: 05) # Jam doesn't drop the shutter/frame
KeyCtl::Key(j)
Serial0::NextLineMustBe(RD 14: 05)
PAT9125::Resume Auto()
PAT9125::Toggle()
Board::Quit();
